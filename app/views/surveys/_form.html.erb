<%= form_for @survey, :html => { :class => 'user-form' } do |f| %>

  <h4 id="form-title"><%= form_title %></h4>

  <%= render :partial => "shared/error_messages", :locals => { :errors => @survey.errors } %>

  <div class="form-field">
    <%= f.label :heading %>
    <%= f.text_field :heading %>
  </div>

  <%= render :partial => 'question', :locals => { :form => f, :question => Question.new, :template_class => 'question-template hidden template', :key => 'key' } %>

  <%= render :partial => 'question_option', :locals => { :form => f, :question_option => QuestionOption.new, :template_class => "option-template hidden template", :key => 'key' } %>

  <div class="container" data-name="survey">

  <div class="form-field table_row">
    <div class="field_with_errors table_cell"><label>&nbsp;</label></div>
    <div class="field_with_errors table_cell">
      Add Question
      <textarea></textarea><br>
      <ul class="list">
        <li><input type="radio"> Text</li>
        <li><input type="radio"> Single Select</li>
        <li><input type="radio"> Multiple Select</li>
      </ul>
      <div class="clear"></div>
      <br>Remove Question
      <div class="add_option">
          Add Option<br>
          <input type="text"> Remove
          <input type="text"> Remove
          <input type="text"> Remove
      </div>

    </div>
  </div>

    <%= link_to "Add Question", "javascript:void(0);", :class => 'add-field', :data => { :template_class => 'question-template'} %>
    
    <% @survey.questions.each_with_index do |question, index| %>
      <%= render :partial => "question", :locals => { :form => f, :question => question, :template_class => '', :key => index } %>
    <% end %>
  
  </div>

  <%= f.submit %>
<% end %>